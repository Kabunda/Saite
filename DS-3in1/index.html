<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Большой спринт</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="style_hs.css">
    <meta property="og:title" content="Спринт">
    <meta property="og:description" content="Игра-тренажер для развития профессиональных навыков.">
    <meta property="og:image" content="../images/logo_boom.png">
    <script src="firebase.js" type="module" defer></script>
    <script src="game-multiple.js" type="module"></script>
</head>
<body>
    <header class="game-header">
        <a href="https://kabunda.github.io/Saite/" class="home-link">← На главную</a>
        <h1 class="logo" id="nazvanie">Спринт</h1>
    </header>
    <main class="game-container">
    <!-- Начальный экран -->
        <section id="startScreen">
            <!-- Обновите поле ввода имени -->
            <input type="text" id="playerName" placeholder="Ваше имя" maxlength="20" oninput="validateName(this)">
            <div id="nameError" class="error-message" style="color: red; display: none;">Пожалуйста, введите ваше имя</div>

            <h3>Правила</h3>
            <p>Ответь на 20 вопросов</p>
            <button class="button" id="startBtn">Старт!</button>
            <div class="game-select">
                <h3>Выбор сложности</h3>
                <label><input type="radio" name="game" value="in8">на 8</label>
                <label><input type="radio" name="game" value="in17">на 17</label>
                <label><input type="radio" name="game" value="in35">на 35</label>
                <label><input type="radio" name="game" value="all" checked>Общий</label>
            </div>  
            <div id="highscore">
                <h3>Топ-5 рекордов:</h3>
                <div id="highscoreList"></div>                
            </div>    
        </section>

        <!-- index.html - добавляем новый экран сессии -->
        <!-- После startScreen и перед gameScreen добавьте: -->
        <section class="hidden" id="sessionScreen">
            <h2>Сессия: <span id="sessionId"></span></h2>
            <div id="waitingMessage"></div>
            <div id="countdown" class="countdown hidden"></div>
            
            <div class="players-list">
                <h3>Игроки в сессии:</h3>
                <div id="playersList"></div>
            </div>
            
            <p>Пригласите друзей: назовите им идентификатор сессии</p>
        </section>

    <!-- Игровой экран -->
        <section class="hidden" id="gameScreen">
            <div class="stats">
                <div>Вопрос: <span id="level"></span></div>        
                <div>Осталось: <span id="score"></span></div>
            </div>
            <div id="opponentProgress" class="opponent-progress"></div>
            <div id="questionCounter" class="timer">00:00</div>
            <div class="game-content" id="gameContent">
                <div class="question" id="questionText"></div>
                <input type="number" id="answerInput" placeholder="Ваш ответ" autocomplete="off">
            </div>
            <div class ="hintContainer" id="message"></div>
            <button class="button" id="checkBtn">Готово</button>
        </section>
    <!-- Экран завершения -->
        <section class="hidden" id="endScreen">
            <h2>Игра завершена!</h2>
            <div class="endGame">
                <p>Ваше время: <span class="highlight" id="finalTime">0</span></p>
                <div class="answers-history">
                    <h3>История ответов:</h3>
                    <ul id="answersList"></ul>
                </div>
            </div>
            <button class="button" id="resetBtn">Хорошо!</button>
        </section>
    </main>
        <!-- Внутри body, добавьте модальное окно для ошибок -->
    <div id="errorModal" class="modal hidden">
    <div class="modal-content">
        <span class="close">&times;</span>
        <p id="errorMessage"></p>
    </div>
    </div>
        <!-- Внутри <body> добавим элемент для отображения версии -->
    <footer style="text-align: center; margin-top: 20px; font-size: 12px; color: #666;">
        Версия: <span id="versionInfo">загрузка...</span>
    </footer>
</body>
</html>